(function(t){function e(e){for(var s,r,o=e[0],d=e[1],c=e[2],l=0,h=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(s in d)Object.prototype.hasOwnProperty.call(d,s)&&(t[s]=d[s]);_&&_(e);while(h.length)h.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,r=1;r<a.length;r++){var d=a[r];0!==i[d]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function r(t){return o.p+"js/"+({about:"about"}[t]||t)+"."+{about:"60d8e1c1"}[t]+".js"}function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise(function(e,s){a=i[t]=[e,s]});e.push(a[2]=s);var n,d=document.createElement("script");d.charset="utf-8",d.timeout=120,o.nc&&d.setAttribute("nonce",o.nc),d.src=r(t);var c=new Error;n=function(e){d.onerror=d.onload=null,clearTimeout(l);var a=i[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",c.name="ChunkLoadError",c.type=s,c.request=n,a[1](c)}i[t]=void 0}};var l=setTimeout(function(){n({type:"timeout",target:d})},12e4);d.onerror=d.onload=n,document.head.appendChild(d)}return Promise.all(e)},o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],c=d.push.bind(d);d.push=e,d=d.slice();for(var l=0;l<d.length;l++)e(d[l]);var _=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"48f5":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("a481"),core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_replace__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={name:"currency-input",props:["value","currency"],data:function(){return{isInputActive:!1}},computed:{displayValue:{get:function(){return this.isInputActive?this.value.toString():this.currency+this.value.toFixed(2).replace(/(\d)(?=(\d{3})+(?:\.\d+)?$)/g,"$1,")},set:function(t){if(-1!=t.indexOf("+")||-1!=t.indexOf("-")||-1!=t.indexOf("*")||-1!=t.indexOf("/"))console.log("it's an expression");else{var e=parseFloat(t.replace(/[^\d\.]/g,""));isNaN(e)&&(e=0),this.$emit("input",e)}}}},methods:{checkOp:function(t){"+"!==t.target.value[t.target.value.length-2]&&"-"!==t.target.value[t.target.value.length-2]&&"*"!==t.target.value[t.target.value.length-2]&&"/"!==t.target.value[t.target.value.length-2]||(t.target.value=t.target.value.slice(0,-1))},mathOp:function mathOp(e){/\d/.test(e.target.value)&&this.$emit("input",eval(e.target.value))}}}},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid pt-3 pl-5 pr-5",attrs:{id:"app"}},[t._m(0),a("div",{staticClass:"top text-center mb-5"},[a("h1",[t._v("Welcome to PayPlan! ")]),a("h4",[t._v(t._s(t.today))])]),a("router-view"),t._m(1)],1)},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("header",{staticClass:"masthead"},[a("div",{staticClass:"inner"},[a("nav",{staticClass:"nav nav-masthead justify-content-center",attrs:{id:"nav"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("footer",{staticClass:"mastfoot text-center"},[a("div",{staticClass:"inner"},[a("p",[t._v("All rights reserved Â© Ammar Moussa 2019")])])])}],r={data:function(){return{today:this.$moment(new Date).format("DD-MMM-YYYY")}}},o=r,d=(a("9a05"),a("2877")),c=Object(d["a"])(o,i,n,!1,null,null,null),l=c.exports,_=a("8c4f"),h=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.inputDone?t._e():a("Majorinput",{attrs:{edit_user_object:t.user_object,tracked_data:t.tracked_data},on:{inputConfirmed:t.inputReceived}}),t.inputDone?a("div",{staticClass:"p-2"},[a("Tracker",{attrs:{user_object:t.user_object,initateEdit:t.initateEdit,restart:t.restart},on:{sendTrackedData:t.TrackedDataSent}})],1):t._e()],1)},u=[],p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content container p-3"},[a("div",{staticClass:"text-center mb-5"},[t.edit_mode?a("p",[a("strong",[t._v("EDIT MODE")])]):t._e(),a("button",{staticClass:"btn btn-secondary",attrs:{disabled:!t.userValidated},on:{click:function(e){return t.clearAll()}}},[t._v("Clear all")])]),a("div",{staticClass:"user"},[a("form",[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"firstnameipt"}},[t._v("First Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],staticClass:"form-control",attrs:{type:"text",id:"firstnameipt",placeholder:"First Name"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}})]),a("div",{staticClass:"form-group col-md-6"},[a("label",{attrs:{for:"countryipt"}},[t._v("Last Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],staticClass:"form-control",attrs:{type:"text",id:"countryipt",placeholder:"Last Name"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}})])])])]),t.userValidated?a("div",{staticClass:"money"},[a("div",{staticClass:"form-row"},[t.edit_mode?t._e():a("div",{staticClass:"form-group col-md-1"},[a("label",[t._v("Currency")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.currency,expression:"currency"}],staticClass:"form-control",attrs:{id:"csipt"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.currency=e.target.multiple?a:a[0]}}},t._l(t.currency_options,function(e,s){return a("option",{key:s,domProps:{value:e,selected:0==s}},[t._v(t._s(e))])}),0)]),t.edit_mode?t._e():a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v("Starting savings "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("What you have in savings as of now")}}},[t._v("?")])]),a("Currencyinput",{attrs:{id:"ssipt",currency:t.currency},model:{value:t.starting_savings,callback:function(e){t.starting_savings=e},expression:"starting_savings"}})],1),t.edit_mode?t._e():a("div",{staticClass:"form-group col-md-4"},[a("label",[t._v("Starting RRSP "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("What you have in RRSP as of now")}}},[t._v("?")])]),a("Currencyinput",{attrs:{id:"srrspipt",currency:t.currency},model:{value:t.starting_rrsp,callback:function(e){t.starting_rrsp=e},expression:"starting_rrsp"}})],1),a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("RRSP contribution "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("How much RRSP you make every paycheck?")}}},[t._v("?")])]),a("Currencyinput",{attrs:{id:"rrspcipt",currency:t.currency},model:{value:t.rrsp_cont,callback:function(e){t.rrsp_cont=e},expression:"rrsp_cont"}})],1)]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("Income after tax "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("The net pay amount on your paycheck")}}},[t._v("?")])]),a("Currencyinput",{attrs:{id:"incomeipt",currency:t.currency},model:{value:t.income_aftertax,callback:function(e){t.income_aftertax=e},expression:"income_aftertax"}})],1),a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("Rent ")]),a("Currencyinput",{attrs:{id:"rentipt",currency:t.currency},model:{value:t.rent,callback:function(e){t.rent=e},expression:"rent"}})],1),a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("Monthly payments "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("The total of all fixed monthly payments")}}},[t._v("?")])]),a("Currencyinput",{attrs:{id:"mpipt",currency:t.currency},model:{value:t.monthly_payments,callback:function(e){t.monthly_payments=e},expression:"monthly_payments"}})],1),a("div",{staticClass:"form-group col-md-3"},[a("label",[t._v("Weekly spendings "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("How much do you think you spend a week?")}}},[t._v("?")])]),a("Currencyinput",{attrs:{id:"wsipt",currency:t.currency},model:{value:t.weekly_spendings,callback:function(e){t.weekly_spendings=e},expression:"weekly_spendings"}})],1)])]):t._e(),t.moneyValidated&&!t.edit_mode?a("div",{staticClass:"dates"},[a("form",[a("div",{staticClass:"form-group"},[a("label",[t._v("Select income frequency")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.date_interval,expression:"date_interval"}],staticClass:"form-control",attrs:{id:"fsipt"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.date_interval=e.target.multiple?a:a[0]}}},t._l(t.frequency_options,function(e,s){return a("option",{key:s,domProps:{value:e.interval,selected:0==s}},[t._v(t._s(e.freq))])}),0)]),a("div",{staticClass:"form-group"},[a("label",[t._v("Select the first pay date from which you wish to track")]),a("datepicker",{attrs:{format:"dd-MMM-yyyy",id:"date_1",placeholder:"Please select a starting pay date",name:"startingdate","disabled-dates":t.date_1.disabledDates,disabled:t.hasEndDate,"bootstrap-styling":""},model:{value:t.start_date,callback:function(e){t.start_date=e},expression:"start_date"}})],1),t.start_date?a("div",{staticClass:"form-check mb-3"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.hasEndDate,expression:"hasEndDate"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"HasendDate"},domProps:{checked:Array.isArray(t.hasEndDate)?t._i(t.hasEndDate,null)>-1:t.hasEndDate},on:{click:function(e){return t.resetDates(t.hasEndDate)},change:function(e){var a=t.hasEndDate,s=e.target,i=!!s.checked;if(Array.isArray(a)){var n=null,r=t._i(a,n);s.checked?r<0&&(t.hasEndDate=a.concat([n])):r>-1&&(t.hasEndDate=a.slice(0,r).concat(a.slice(r+1)))}else t.hasEndDate=i}}}),a("label",{staticClass:"form-check-label",attrs:{for:"HasendDate"}},[t._v("Check to add end date")])]):t._e(),t.date_2?a("div",{staticClass:"form-group",class:{hide:!t.hasEndDate}},[a("label",[t._v("If you have a projected end date, please select it below. ")]),a("datepicker",{attrs:{format:"dd-MMM-yyyy",id:"date_2",placeholder:"Please select an end pay date",name:"enddate","disabled-dates":t.date_2.disabledDates,"bootstrap-styling":"","open-date":t.date_2.disabledDates.to},model:{value:t.end_date,callback:function(e){t.end_date=e},expression:"end_date"}})],1):t._e()]),t.start_date?a("div",{staticClass:"results"},[t.end_date?a("p",[t._v(" There is a total of "+t._s(t.computed_date_array.length)+" pay days including the starting date selected above")]):t._e()]):t._e()]):t._e(),a("br"),t.userValidated&&t.moneyValidated&&t.start_date?a("div",{staticClass:"confirm"},[t.end_date||t.hasEndDate?t._e():a("div",[a("p",{staticClass:"text-danger"},[t._v("No end date selected, want to confirm and proceed?")]),a("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"},on:{click:function(e){return t.ConfirmInput()}}},[t._v("Yes")])]),t.end_date?a("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"},on:{click:function(e){return t.ConfirmInput()}}},[t._v("Confirm")]):t._e()]):t._e()])},m=[],f=(a("c5f6"),a("ac6a"),a("456d"),a("fa33")),v=a("8aa5"),y=a.n(v),g=(a("e71f"),{apiKey:"AIzaSyAycQRhh-LigsiEEWoc_PZtEuJlFDp3sbA",authDomain:"payplan-68a47.firebaseapp.com",databaseURL:"https://payplan-68a47.firebaseio.com",projectId:"payplan-68a47",storageBucket:"payplan-68a47.appspot.com",messagingSenderId:"859010609516",appId:"1:859010609516:web:3e6a0bf5c07a2f91ca8349",measurementId:"G-SZ2TK76JP4"}),b=y.a.initializeApp(g),k=b.firestore(),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("input",{directives:[{name:"model",rawName:"v-model",value:t.displayValue,expression:"displayValue"}],staticClass:"form-control",attrs:{type:"text",placeholder:t.currency+0},domProps:{value:t.displayValue},on:{keyup:[function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.target.blur(),t.mathOp(e)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:e.target.blur()},function(e){return e.type.indexOf("key")||107===e.keyCode?t.checkOp(e):null},function(e){return e.type.indexOf("key")||109===e.keyCode?t.checkOp(e):null},function(e){return e.type.indexOf("key")||106===e.keyCode?t.checkOp(e):null},function(e){return e.type.indexOf("key")||111===e.keyCode?t.checkOp(e):null}],blur:function(e){t.isInputActive=!1},focus:function(e){t.isInputActive=!0},input:function(e){e.target.composing||(t.displayValue=e.target.value)}}})},x=[],C=a("48f5"),D=C["a"],E=Object(d["a"])(D,w,x,!1,null,null,null),j=E.exports,$={components:{Datepicker:f["a"],Currencyinput:j},name:"major-input",props:{edit_user_object:Object,tracked_data:Array},data:function(){return{today:this.$moment(new Date).format("DD-MMM-YYYY"),firstname:"Ammar",lastname:"Moussa",currency:"C$",starting_savings:57574.31,starting_rrsp:2386.82,rrsp_cont:96.5,income_aftertax:3123.05,rent:1650,monthly_payments:712,weekly_spendings:300,date_interval:14,start_date:new Date("01/03/2020"),date_array:[],date_range:0,end_date:new Date("01/24/2020"),hasEndDate:!0,date_1:{disabledDates:{to:new Date((new Date).setDate((new Date).getDate()-1))}},currency_options:["C$","US$","â¬","Â£"]}},computed:{userValidated:function(){return""!==this.firstname&&""!==this.lastname},moneyValidated:function(){return this.starting_savings>=0&&this.starting_rrsp>=0&&this.rrsp_cont>=0&&this.income_aftertax>0&&this.rent>=0&&this.monthly_payments>=0&&this.weekly_spendings>0},computed_date_difference:function(){var t=0;if(this.end_date)if(t=this.$moment(this.end_date).diff(this.start_date,"days")+1,this.end_date.getTime()<this.start_date.getTime())alert("End date can't be before start date");else{if(!(t<this.date_interval))return t;alert("End date and start date should be at least "+this.date_interval+" days apart")}},computed_date_array:function(){if(this.start_date){if(this.date_array=[],this.end_date){if(this.date_range=Math.ceil(this.computed_date_difference/this.date_interval),this.date_interval<28){var t=this.$moment(this.start_date).add(this.date_range*this.date_interval,"days"),e=this.$moment(t).subtract(this.date_interval+5,"days"),a=this.$moment(t).subtract(this.date_interval-8,"days");this.$moment(this.end_date).isBetween(e,a,null,"[]")||(this.date_range+=1)}this.date_array=[]}else if(this.$moment(this.today).isAfter(this.start_date)){var s=this.$moment(this.today).diff(this.start_date,"days");this.date_range=Math.ceil(s/this.date_interval)}else this.date_range=1;this.date_array.push(this.start_date);for(var i=1;i<this.date_range+1;i++)this.date_array.push(new Date(this.date_array[i-1])),this.date_interval<28?this.date_array[i].setDate(this.date_array[i-1].getDate()+this.date_interval):this.date_array[i].setDate(this.date_array[i-1].getDate()+this.daysInMonth(this.date_array[i].getMonth(),this.date_array[i-1].getFullYear()))}return this.date_array},date_2:function(){if(this.start_date){var t={disabledDates:{to:new Date(this.addDays(this.start_date,this.date_interval))}};return t}},frequency_options:function(){var t=30;return this.start_date&&(t=this.daysInMonth(this.start_date.getMonth(),this.start_date.getFullYear())),this.date_interval>=28&&(this.date_interval=t),[{freq:"Biweekly",interval:14},{freq:"Weekly",interval:7},{freq:"Monthly",interval:t}]},edit_mode:function(){return 0!==Object.keys(this.edit_user_object).length&&(this.firstname=this.edit_user_object.firstname,this.lastname=this.edit_user_object.lastname,this.currency=this.edit_user_object.money.currency,this.starting_savings=this.edit_user_object.money.starting_savings,this.starting_rrsp=this.edit_user_object.money.starting_rrsp,this.rrsp_cont=this.edit_user_object.money.rrsp_cont,this.income_aftertax=this.edit_user_object.money.income_aftertax,this.rent=this.edit_user_object.money.rent,this.monthly_payments=this.edit_user_object.money.monthly_payments,this.weekly_spendings=this.edit_user_object.money.weekly_spendings,this.date_interval=this.edit_user_object.dates.date_interval,this.start_date=this.edit_user_object.dates.start_date,this.date_array=this.edit_user_object.dates.date_array,this.date_range=this.edit_user_object.dates.date_array.length,this.end_date=this.edit_user_object.dates.end_date,this.hasEndDate=this.edit_user_object.dates.hasEndDate,!0)},user_object:function(){var t={firstname:this.firstname,lastname:this.lastname,money:{starting_savings:this.starting_savings,starting_rrsp:this.starting_rrsp,rrsp_cont:this.rrsp_cont,income_aftertax:this.income_aftertax,rent:this.rent,monthly_payments:this.monthly_payments,weekly_spendings:this.weekly_spendings,currency:this.currency},dates:{start_date:this.start_date,date_array:this.computed_date_array,hasEndDate:this.hasEndDate,end_date:this.end_date,day_difference:this.computed_date_difference,date_interval:this.date_interval},ot_expenses:[],tracked_data:[]};return this.edit_mode&&(t.tracked_data=this.tracked_data),t}},methods:{resetDates:function(t){t&&(this.end_date="",this.date_array=[])},addDays:function(t,e){var a=new Date(Number(t));return a.setDate(t.getDate()+e),a},daysInMonth:function(t,e){return new Date(e,t+1,0).getDate()},giveDetails:function(t){this.$swal.fire({position:"center",text:t,confirmButtonText:"Got it!",buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small"})},ConfirmInput:function(){this.$emit("inputConfirmed",this.user_object)},clearAll:function(){this.firstname="",this.lastname="",this.starting_savings=0,this.starting_rrsp=0,this.rrsp_cont=0,this.income_aftertax=0,this.rent=0,this.monthly_payments=0,this.weekly_spendings=0,this.start_date="",this.date_array=[],this.hasEndDate=!1,this.end_date=""},formatDate:function(t){if(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=this.$moment(t[e]).format("DD-MMM-YYYY");return t}return this.$moment(t).format("DD-MMM-YYYY")}console.log(t," no end date has been selected")}}},O=$,M=Object(d["a"])(O,p,m,!1,null,null,null),P=M.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tracker"},[a("div",{staticClass:"test hide"},[t._v("\r\n\t\t\t//test Today: "+t._s(t.today)),a("br"),a("button",{staticClass:"mr-2",on:{click:function(e){return t.test(1)}}},[t._v("Add day to today")]),a("button",{on:{click:function(e){return t.test(2)}}},[t._v("Reset today")]),a("br")]),a("div",{staticClass:"row mb-4 pl-3 pr-3"},[a("div",{staticClass:"col-md-3 pl-0"},[a("div",{staticClass:"alert h-100 pl-0",attrs:{role:"alert"}},[a("h3",{staticClass:"alert-heading"},[t._v("Current pay period")]),a("p",[t._v("From: "),a("strong",[t._v(t._s(t.current_pp.start))])]),a("p",{staticClass:"mb-0"},[t._v("To: "),a("strong",[t._v(t._s(t.current_pp.end))])])])]),a("div",{staticClass:"col-md-3"},[a("div",{staticClass:"alert h-100",attrs:{role:"alert"}},[t.payday_isToday?t._e():a("h3",[t._v(t._s(t.days_till)+" left until next pay")]),t.payday_isToday?a("h3",{staticClass:"text-success"},[t._v("TODAY IS A PAY DAY!")]):t._e()])]),a("div",{staticClass:"col-md-5"},[a("div",{staticClass:"alert mb-0 h-100",attrs:{role:"alert"}},[a("p",{staticClass:"proejction"},[t._v("You are projected to have "),a("span",{staticClass:"text-warning proejction"},[t._v(t._s(t.currency)+t._s(t.projected_savings.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")))]),t._v(" in savings by "+t._s(t.end_date))])])]),a("div",{staticClass:"col-md-1"},[a("div",{staticClass:"alert h-100 controls",attrs:{role:"alert"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-secondary mb-3 p-2",on:{click:function(e){return t.restart()}}},[t._v("Restart")])]),a("div",{staticClass:"col-md-6"},[a("button",{staticClass:"btn btn-secondary mb-3 p-2",on:{click:function(e){return t.initateEdit()}}},[t._v("Edit")])])])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-2 offset-md-5"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter_term,expression:"filter_term"}],staticClass:"form-control",attrs:{disabled:!t.tab_isActive[0],type:"text","aria-label":"Default","aria-describedby":"inputGroup-sizing-default"},domProps:{value:t.filter_term},on:{keyup:[function(e){return t.filterData(t.filter_term)},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.removeFilter(t.filter_term)}],input:function(e){e.target.composing||(t.filter_term=e.target.value)}}}),""!==t.filter_term?a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-secondary input-group-text",attrs:{id:"inputGroup-sizing-default"},on:{click:function(e){return t.removeFilter(t.filter_term)}}},[a("i",{staticClass:"fa fa-remove"})])]):t._e()])]),a("div",{staticClass:"col-md-1"},[t.no_results?a("span",{staticClass:"text-danger"},[a("strong",[t._v("No results found")])]):t._e()])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("ul",{staticClass:"nav nav-tabs"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",class:{active:t.tab_isActive[0]},on:{click:function(e){return t.switchTab(0)}}},[t._v("Tracker table")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link disabled",class:{active:t.tab_isActive[1]},on:{click:function(e){return t.switchTab(1)}}},[t._v("Average spendings")])]),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link disabled",class:{active:t.tab_isActive[2]},on:{click:function(e){return t.switchTab(2)}}},[t._v("Graph")])])]),t.project_hasEnded?a("div",{staticClass:"project_ended float-left"},[a("div",[t._v("\r\n\t\t\t\t\t\tThis project ended on "+t._s(t.end_date)+" "),a("br"),t.last_pay_passed?t._e():a("span",[t._v("Next and last pay day is on "+t._s(t.next_paydate))]),t.last_pay_passed?a("span",[t._v("No more payments. Last pay day was on "+t._s(t.date_array[t.date_array.length-1]))]):t._e()])]):t._e(),t.tab_isActive[0]?a("div",{staticClass:"table-responsive w-auto table-wrapper text-nowrap float-left"},[a("table",{staticClass:"table text-center table-striped"},[a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col",width:"2%"}},[t._v("#")]),a("th",{attrs:{scope:"col",width:"8%"}},[t._v("Pay period start")]),a("th",{attrs:{scope:"col",width:"8%"}},[t._v("Pay period end")]),a("th",{attrs:{scope:"col",width:"8%"}},[t._v("Pay date")]),a("th",{attrs:{scope:"col",width:"10%"}},[t._v("Earinings on pay date "),a("span",{staticClass:"info_block",on:{click:function(e){t.giveDetails("You can edit the fields in this column. You can write in an arithmetic expression and it will evaluate! (e.g (500+50)*2)")}}},[t._v("?")])]),a("th",{attrs:{scope:"col",width:"10%"}},[t._v("Spendings before pay date")]),a("th",{attrs:{scope:"col",width:"14%"}},[t._v("Savings as of each pay date (expected) "),a("span",{staticClass:"info_block",on:{click:function(e){return t.giveDetails("You can add notes to the fields in this column")}}},[t._v("?")])]),a("th",{attrs:{scope:"col",width:"14%"}},[t._v("Savings as of each pay date (actual) "),a("span",{staticClass:"info_block",on:{click:function(e){t.giveDetails("You can edit the fields in this column. You can write in an arithmetic expression and it will evaluate! (e.g (500+50)*2)")}}},[t._v("?")])]),a("th",{attrs:{scope:"col",width:"8%"}},[t._v("RRSP (expected)")]),a("th",{attrs:{scope:"col",width:"8%"}},[t._v("RRSP (actual) "),a("span",{staticClass:"info_block",on:{click:function(e){t.giveDetails("You can edit the fields in this column. You can write in an arithmetic expression and it will evaluate! (e.g (500+50)*2)")}}},[t._v("?")])]),a("th",{attrs:{scope:"col",width:"10%"}},[a("button",{staticClass:"btn btn-secondary p-1",on:{click:function(e){return t.markComplete(-1)}}},[t._v(t._s(t.mark_all.text))])])])]),a("tbody",t._l(t.dataView(),function(e,s){return a("tr",{key:s,staticClass:"table-light",class:{"table-light":!e.complete,"table-dark":e.complete,hide:!e.found}},[a("td",{attrs:{scope:"row"}},[t._v(t._s(e.id+1))]),a("td",{class:{complete:e.complete}},[t._v(t._s(e.pp_start))]),a("td",{class:{complete:e.complete}},[t._v(t._s(e.pp_end))]),a("td",{class:{complete:e.complete,"bg-warning":e.active&&!e.complete}},[a("strong",[t._v(t._s(e.pay_date))])]),a("td",{staticClass:"income",class:{complete:e.complete,"in-edit":e.id==t.editing.id&&1==t.editing.entry_code&&t.editing.yes&&!e.complete},on:{click:function(a){return t.startEdit(e.id,1,e.income)},mouseleave:function(a){return t.cancelEdit(e,1)}}},[a("span",[t._v(t._s(t.formatMoney(e.income)))]),e.id!=t.editing.id||1!=t.editing.entry_code||e.complete?t._e():a("span",{on:{keyup:[function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:t.cancelEdit(e,1)},function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.doneEdit(e,1)}]}},[a("Currencyinput",{staticClass:"edit_inc editable",attrs:{currency:t.currency,type:"text"},model:{value:e.income,callback:function(a){t.$set(e,"income",a)},expression:"row.income"}})],1)]),a("td",{class:{complete:e.complete}},[t._v("\r\n\t\t\t\t\t\t\t\t\t"+t._s(t.formatMoney(e.spendings))+"\r\n\t\t\t\t\t\t\t\t")]),a("td",{staticClass:"expected-savings",class:{complete:e.complete,"has-note":e.note.trim().length>1,"in-edit":e.id==t.editing.id&&4==t.editing.entry_code&&!e.complete&&t.editing.yes},on:{click:function(a){return t.startEdit(e.id,4,e.note)},mouseleave:function(a){return t.cancelEdit(e,4)}}},[a("span",{class:{"text-danger":e.expected_savings<0}},[t._v(t._s(t.formatMoney(e.expected_savings))+" ")]),a("span",{staticClass:"note",on:{click:function(a){return a.stopPropagation(),t.viewNote(e)}}},[a("i",{staticClass:"fa fa-eye"})]),a("span",{staticClass:"check-done",on:{click:function(a){return a.stopPropagation(),t.doneEdit(e,4)}}},[a("i",{staticClass:"fa fa-save"})]),t.editing.yes?t._e():a("span",{staticClass:"delete-note",on:{click:function(a){return a.stopPropagation(),t.deleteNote(e.id)}}},[a("i",{staticClass:"fa fa-trash"})]),a("textarea",{directives:[{name:"show",rawName:"v-show",value:e.id==t.editing.id&&4==t.editing.entry_code&&!e.complete,expression:"row.id == editing.id && editing.entry_code == 4 && !row.complete"},{name:"model",rawName:"v-model",value:e.note,expression:"row.note"}],staticClass:"form-group edit_es editable",attrs:{name:"note-area",id:"ipt-note"+e.id,cols:"40",rows:"20",placeholder:"Write note here"},domProps:{value:e.note},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:t.cancelEdit(e,4)},input:function(a){a.target.composing||t.$set(e,"note",a.target.value)}}})]),a("td",{staticClass:"actual-savings",class:{"in-edit":e.id==t.editing.id&&2==t.editing.entry_code&&t.editing.yes&&!e.complete},on:{click:function(a){return t.startEdit(e.id,2,e.actual_savings)},mouseleave:function(a){return t.cancelEdit(e,2)}}},[e.actual_savings>=0?a("strong",[t._v(t._s(t.formatMoney(e.actual_savings)))]):t._e(),e.actual_savings<0?a("strong",{staticClass:"text-danger"},[t._v("In debt!")]):t._e(),e.id!=t.editing.id||2!=t.editing.entry_code||e.complete?t._e():a("span",{staticClass:"form-group",on:{keyup:[function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:t.cancelEdit(e,2)},function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.doneEdit(e,2)}]}},[a("Currencyinput",{staticClass:"edit_as editable",attrs:{currency:t.currency,type:"text"},model:{value:e.actual_savings,callback:function(a){t.$set(e,"actual_savings",a)},expression:"row.actual_savings"}})],1)]),a("td",[t._v("\r\n\t\t\t\t\t\t\t\t\t"+t._s(t.formatMoney(e.expected_rrsp))+"\r\n\t\t\t\t\t\t\t\t")]),a("td",{staticClass:"actual-rrsp",class:{"in-edit":e.id==t.editing.id&&3==t.editing.entry_code&&t.editing.yes&&!e.complete},on:{click:function(a){return t.startEdit(e.id,3,e.actual_rrsp)},mouseleave:function(a){return t.cancelEdit(e,3)}}},[a("strong",[t._v(t._s(t.formatMoney(e.actual_rrsp)))]),e.id!=t.editing.id||3!=t.editing.entry_code||e.complete?t._e():a("span",{on:{keyup:[function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:t.cancelEdit(e,3)},function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.doneEdit(e,3)}]}},[a("Currencyinput",{staticClass:"edit_rrsp editable",attrs:{currency:t.currency,type:"text"},model:{value:e.actual_rrsp,callback:function(a){t.$set(e,"actual_rrsp",a)},expression:"row.actual_rrsp"}})],1)]),a("td",[a("button",{staticClass:"btn btn-secondary p-1",on:{click:function(a){return t.markComplete(e.id)}}},[t._v(t._s(e.btn_reads))])])])}),0)]),t.searching?t._e():a("div",{staticClass:"pages text-center p-3 overflow-hidden"},[a("div",[a("button",{staticClass:"btn btn-secondary p-2 mr-3",class:{active:0==t.single_view.start},on:{click:function(e){return t.resetView(0)}}},[t._v("Start")]),a("button",{staticClass:"btn btn-secondary p-2 mr-3",attrs:{disabled:!(t.single_view.start>0)},on:{click:function(e){return t.preView(t.single_view.start)}}},[t._v("â")]),t._l(t.pagination.slice(t.pagination_start,t.pagination_end),function(e){return a("button",{key:e,staticClass:"btn btn-secondary p-2 mr-3",class:{active:e==t.single_view.start},on:{click:function(a){return t.thisView(e)}}},[t._v(t._s(e/10+1))])}),a("button",{staticClass:"btn btn-secondary p-2 mr-3",attrs:{disabled:!(t.single_view.end<t.tracked_data.length-1)},on:{click:function(e){return t.nextView(t.single_view.end)}}},[t._v("â")]),a("button",{staticClass:"btn btn-secondary p-2 mr-3",class:{active:t.single_view.end>=t.tracked_data.length},on:{click:function(e){return t.resetView(t.tracked_data.length)}}},[t._v("End")])],2),a("br"),a("div",[a("button",{staticClass:"btn btn-secondary p-2 mr-3",class:{active:t.current_item==t.single_view.start},on:{click:function(e){return t.currentView(t.current_item)}}},[t._v("Current")])])])]):t._e(),t.tab_isActive[1]?a("div",[a("AverageCalc",{attrs:{tracked_data:t.tracked_data,user_object:t.user_object},on:{ot_created:t.receivedOt}})],1):t._e(),t.tab_isActive[2]?a("div",[t._v("\r\n\t\t\t\t\tGraph\r\n\t\t\t\t\t"),a("GChart",{attrs:{type:"LineChart",data:t.chartData}})],1):t._e()])]),a("back-to-top",{attrs:{bottom:"50px",right:"50px",visibleoffset:"400"}},[a("button",{staticClass:"btn-dark btn-to-top",attrs:{type:"button"}},[a("i",{staticClass:"fa fa-chevron-up"})])])],1)])},A=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"inputGroup-sizing-default"}},[a("i",{staticClass:"fa fa-search"})])])}],T=(a("6762"),a("2fdb"),a("a481"),a("55dd"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"tracker avc"},[0==t.marked_array.length?a("div",{staticClass:"alert mb-0 h-100 text-center",attrs:{role:"alert"}},[a("p",{staticClass:"proejction"},[t._v("You need to mark complete dates in the tracker to use this feature")])]):t._e(),t.marked_array.length>0?a("div",{staticClass:"table-responsive w-auto table-wrapper text-nowrap float-left"},[a("table",{staticClass:"table text-center table-striped"},[t._m(0),a("tbody",[a("tr",{staticClass:"table-light"},[a("td",[t._v(t._s(t.tracked_data[0].pay_date))]),a("td",[t._v(t._s(t.last_marked))]),a("td",[t._v(t._s(t.formatMoney(t.user_object.money.starting_savings)))]),a("td",[t._v(t._s(t.formatMoney(t.total_income)))]),a("td",[t._v(t._s(t.formatMoney(t.total_spent)))]),t.actual_savings>=0?a("td",[t._v(t._s(t.formatMoney(t.actual_savings)))]):t._e(),t.actual_savings<0?a("td",{staticClass:"text-danger"},[t._v("You have no savings!")]):t._e()])])]),a("table",{staticClass:"table text-center table-striped"},[t._m(1),a("tbody",[a("tr",{staticClass:"table-light"},[a("td",[t._v(t._s(t.marked_array.length))]),a("td",[t._v(t._s(t.formatMoney(t.monthly_expenses)))]),a("td",[t._v(t._s(t.formatMoney(t.living_expenses-t.monthly_expenses-t.total_ote)))]),14==t.date_interval?a("td",[t._v(t._s(t.formatMoney((t.living_expenses-t.monthly_expenses-t.total_ote)/t.marked_array.length/2)))]):t._e(),7==t.date_interval?a("td",[t._v(t._s(t.formatMoney((t.living_expenses-t.monthly_expenses-t.total_ote)/t.marked_array.length)))]):t._e(),t.date_interval>14?a("td",[t._v(t._s(t.formatMoney((t.living_expenses-t.monthly_expenses-t.total_ote)/t.marked_array.length/4)))]):t._e()])])])]):t._e(),a("div",{staticClass:"row mb-3",class:{hide:t.show_ote}},[a("div",{staticClass:"col-md-12"},[a("p",[t._v("Add one time expenses?")]),a("button",{staticClass:"btn btn-secondary",on:{click:function(e){return t.addOTExpenses()}}},[t._v("Yes")])])]),t.show_ote?a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4"},[a("p",{staticClass:"mb-2"},[t._v("Add one time expenses below to get a more realistic average spendings")]),a("ul",{staticClass:"list-group text-dark input-group input-group"},t._l(t.ot_expenses,function(e,s){return a("li",{key:s,staticClass:"list-group-item d-flex justify-content-between align-items-center pr-2 pl-2"},[e.editing?a("div",{staticClass:"w-100 h-100 d-flex"},[a("strong",{staticClass:"mr-1 text-dark"},[t._v(t._s(s+1)+"- ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.details,expression:"row.details"}],staticClass:"form-control h-100 w-75 mr-1",attrs:{type:"text",placeholder:"Expense details"},domProps:{value:e.details},on:{input:function(a){a.target.composing||t.$set(e,"details",a.target.value)}}}),a("Currencyinput",{staticClass:"form-control h-100 w-25",attrs:{currency:t.currency},model:{value:e.amount,callback:function(a){t.$set(e,"amount",a)},expression:"row.amount"}}),a("span",{staticClass:"badge-btn badge badge-dark badge-pill ml-2 p-2",on:{click:function(a){return t.saveOTE(e,s)}}},[a("i",{staticClass:"fa fa-check"})])],1):t._e(),e.editing?t._e():a("div",{staticClass:"w-100 h-100 d-flex"},[a("strong",{staticClass:"mr-1 text-dark"},[t._v(t._s(s+1)+"- ")]),a("span",{staticClass:"w-75 pl-2"},[t._v(t._s(e.details))]),a("span",{staticClass:"w-25 pl-2"},[t._v(t._s(t.formatMoney(e.amount)))]),a("span",{staticClass:"badge-btn badge badge-danger badge-pill ml-1 p-2",on:{click:function(a){return t.deleteOTE(e,s)}}},[a("i",{staticClass:"fa fa-remove"})]),t.ot_expenses.length-1==s?a("button",{staticClass:"add-ot btn btn-secondary",on:{click:function(e){return t.addOTE()}}},[a("i",{staticClass:"fa fa-plus"})]):t._e()])])}),0)])]):t._e()])])}),Y=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Since")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("As Of")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Started with")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Total income made")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Total spent")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("What you have")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"thead-light"},[a("tr",[a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Number of pay periods")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Fixed monthly payments")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Living expenses")]),a("th",{attrs:{scope:"col",width:"15%"}},[t._v("Average spendings per week")])])])}],S={components:{Currencyinput:j},name:"average-spendings",props:["tracked_data","user_object"],data:function(){return{today:this.formatDate(new Date),currency:this.user_object.money.currency,date_interval:this.user_object.dates.date_interval,total_income:0,total_spent:0,living_expenses:0,actual_savings:0,show_ote:!1,ot_expenses:this.user_object.ot_expenses}},computed:{total_ote:function(){for(var t=0,e=0;e<this.ot_expenses.length;e++)t+=this.ot_expenses[e].amount;return console.log(t),t},monthly_expenses:function(){var t=this.$moment(this.last_marked).diff(this.tracked_data[0].pay_date,"months")+1;return t*(this.user_object.money.monthly_payments+this.user_object.money.rent)},marked_array:function(){for(var t=[],e=0;e<this.tracked_data.length;e++)this.tracked_data[e].complete&&(this.total_spent+=this.tracked_data[e].spendings,this.total_income+=this.tracked_data[e].income,t.push(this.tracked_data[e]));return this.living_expenses=this.total_spent,t},last_marked:function(){return this.marked_array.length>0?(this.actual_savings=this.marked_array[this.marked_array.length-1].actual_savings,this.marked_array[this.marked_array.length-1].pay_date):"No marked dates"}},methods:{addOTExpenses:function(){this.show_ote=!0,this.ot_expenses=[{details:"",amount:0,editing:!0}]},saveOTE:function(t,e){t.details.trim().length>0&&(this.ot_expenses[e]={details:t.details,amount:parseFloat(t.amount),editing:!1},this.$emit("ot_created",this.ot_expenses),this.$forceUpdate())},editOTE:function(t,e){this.ot_expenses[e].editing=!0,console.log(this.ot_expenses[e]),this.$forceUpdate()},deleteOTE:function(t,e){this.ot_expenses.splice(e,1),0==this.ot_expenses.length&&(this.show_ote=!1),this.$forceUpdate()},addOTE:function(){var t={details:"",amount:0,editing:!0};this.ot_expenses.push(t)},formatDate:function(t){if(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=this.$moment(t[e]).format("DD/MMM/YYYY");return t}return this.$moment(t).format("DD/MMM/YYYY")}console.log(t," no end date has been selected")},formatMoney:function(t){return this.currency+t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")}}},B=S,N=Object(d["a"])(B,T,Y,!1,null,null,null),R=N.exports,I={components:{Currencyinput:j,AverageCalc:R},name:"tracker",props:["user_object","initateEdit","restart"],data:function(){return{today:this.formatDate(new Date),firstname:this.user_object.firstname,lastname:this.user_object.lastname,currency:this.user_object.money.currency,starting_savings:this.user_object.money.starting_savings,starting_rrsp:this.user_object.money.starting_rrsp,rrsp_cont:this.user_object.money.rrsp_cont,income_aftertax:this.user_object.money.income_aftertax,rent:this.user_object.money.rent,monthly_payments:this.user_object.money.monthly_payments,weekly_spendings:this.user_object.money.weekly_spendings,date_interval:this.user_object.dates.date_interval,start_date:this.formatDate(this.user_object.dates.start_date),date_array:this.formatDate(this.user_object.dates.date_array),date_range:this.user_object.dates.date_array.length,end_date:this.formatDate(this.user_object.dates.end_date),hasEndDate:this.user_object.dates.hasEndDate,projected_savings:0,mark_all:{text:"Mark all complete",done:!0},rows_per_view:10,pages_per_view:5,pagination_start:0,pagination_end:5,editing:{entry_code:0,id:-1,yes:!1},cached_value:null,new_tracked_data:null,state_id:0,filter_term:"",no_results:!1,searching:!1,chartData:[["Pay Date","Expected savings","Actual savings"]],chartOptions:{chart:{title:"Savings over time",subtitle:"Savings since "+this.formatDate(this.user_object.dates.start_date),legend:"left",height:500}}}},created:function(){k.collection("user_object").get().then(function(t){t.forEach(function(t){console.log(t.id)})}),this.markComplete(-1),this.$emit("sendTrackedData",this.tracked_data),this.drawChart()},computed:{current_pp:function(){return this.whatPayPeriod(this.next_paydate,!0)},next_paydate:function(){if(this.$moment(this.today).isSameOrBefore(this.date_array[0]))return this.date_array[0];if(!this.hasEndDate)return this.getNextPaydates();if(!this.project_hasEnded){for(var t=[new Date(this.today).getTime()],e=0;e<this.date_array.length;e++)t.push(new Date(this.date_array[e]).getTime());t.sort();for(var a=0;a<t.length;a++)t[a]=this.formatDate(t[a]);return t[t.indexOf(this.today)+1]}},payday_isToday:function(){return this.date_array.indexOf(this.today)>-1},project_hasEnded:function(){return!(!this.hasEndDate||!this.end_date)&&!!this.$moment(this.today).isAfter(this.end_date)},last_pay_passed:function(){return!!(this.hasEndDate&&this.end_date&&this.project_hasEnded)&&!!this.$moment(this.today).isAfter(this.date_array[this.date_array.length-1])},last_pay_amount:function(){if(this.hasEndDate){var t=this.income_aftertax/this.date_interval,e=this.date_array[this.date_array.length-1],a=0;if(this.$moment(this.end_date).isBetween(this.whatPayPeriod(e).start,this.whatPayPeriod(e).end)){a=this.$moment(this.end_date).diff(this.$moment(this.whatPayPeriod(e).start),"days");for(var s=0,i=0;i<a+1;i++){var n=new Date(this.formatDate(this.$moment(this.whatPayPeriod(e).start).add(i,"days")));0!=n.getDay()&&6!=n.getDay()||s++}return parseFloat(((a-s)*t).toFixed(2))}return this.income_aftertax}return this.income_aftertax},days_till:function(){var t=this.$moment(this.next_paydate).diff(this.today,"days");return 1==t?t+" day":t+" days"},tracked_data:{get:function(){if(this.new_tracked_data){var t=this.new_tracked_data;return this.new_tracked_data=null,t}return this.getTrackedData()},set:function(t){this.new_tracked_data=t}},single_view:function(){var t={start:0,end:this.rows_per_view},e=this.tracked_data.map(function(t){return t.active}).indexOf(!0);while(e>=t.end)t.start+=this.rows_per_view,t.end+=this.rows_per_view;return t},pagination:function(){for(var t=[],e=0;e<this.tracked_data.length/this.rows_per_view;e++)t.push(e*this.rows_per_view);return t.slice(1,-1)},page_remainder:function(){return this.pagination.length%this.pages_per_view},current_item:function(){var t=this.tracked_data.map(function(t){return t.active}).indexOf(!0);while(t%10!=0)t--;return t},ot_expenses:function(){return this.receivedOt()},tab_isActive:function(){return[!0,!1,!1]}},methods:{test:function(t){switch(t){case 1:this.today=this.formatDate(this.$moment(this.today).add(120,"days"));break;case 2:this.today=this.formatDate(new Date);break}},receivedOt:function(t){return t},getTrackedData:function(){var t=0,e={},a=[];if(this.user_object.tracked_data.length>0){a=this.user_object.tracked_data;var s=0;s=a.map(function(t){return t.active}).indexOf(!0);for(var i=s+1;i<this.date_array.length;i++)t=this.calculateSpendings(this.whatPayPeriod(this.date_array[i]).start,this.whatPayPeriod(this.date_array[i]).end),a[i].income=parseFloat(this.income_aftertax.toFixed(2)),a[i].spendings=t,a[i].expected_savings=parseFloat((a[i-1].expected_savings+this.income_aftertax-t).toFixed(2)),a[i].actual_savings=parseFloat((a[i-1].expected_savings+this.income_aftertax-t).toFixed(2)),a[i].expected_rrsp=parseFloat((a[i-1].expected_rrsp+this.rrsp_cont).toFixed(2)),a[i].actual_rrsp=parseFloat((a[i-1].expected_rrsp+this.rrsp_cont).toFixed(2)),i==this.date_array.length-1&&(a[i].income=parseFloat(this.last_pay_amount.toFixed(2)),this.projected_savings=a[i].expected_savings);return a}t=this.calculateSpendings(this.whatPayPeriod(this.date_array[0]).start,this.whatPayPeriod(this.date_array[0]).end),e={id:0,pp_start:this.whatPayPeriod(this.date_array[0]).start,pp_end:this.whatPayPeriod(this.date_array[0]).end,pay_date:this.date_array[0],income:parseFloat(this.income_aftertax.toFixed(2)),spendings:t,expected_savings:parseFloat((this.starting_savings+this.income_aftertax-t).toFixed(2)),note:"",actual_savings:parseFloat((this.starting_savings+this.income_aftertax-t).toFixed(2)),expected_rrsp:parseFloat((this.starting_rrsp+this.rrsp_cont).toFixed(2)),actual_rrsp:parseFloat((this.starting_rrsp+this.rrsp_cont).toFixed(2)),complete:!1,btn_reads:"Mark complete",active:this.isActiveRow(this.date_array[0],this.next_paydate),found:!0},a=[e];for(i=1;i<this.date_array.length;i++)t=this.calculateSpendings(this.whatPayPeriod(this.date_array[i]).start,this.whatPayPeriod(this.date_array[i]).end),e={id:i,pp_start:this.whatPayPeriod(this.date_array[i]).start,pp_end:this.whatPayPeriod(this.date_array[i]).end,pay_date:this.date_array[i],income:parseFloat(this.income_aftertax.toFixed(2)),spendings:t,expected_savings:parseFloat((a[i-1].expected_savings+this.income_aftertax-t).toFixed(2)),note:"",actual_savings:parseFloat((a[i-1].expected_savings+this.income_aftertax-t).toFixed(2)),expected_rrsp:parseFloat((a[i-1].expected_rrsp+this.rrsp_cont).toFixed(2)),actual_rrsp:parseFloat((a[i-1].expected_rrsp+this.rrsp_cont).toFixed(2)),complete:!1,btn_reads:"Mark complete",active:this.isActiveRow(this.date_array[i],this.next_paydate),found:!0},i==this.date_array.length-1&&(e.income=this.last_pay_amount,this.projected_savings=e.expected_savings),a.push(e);return a},formatDate:function(t){if(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e]=this.$moment(t[e]).format("DD/MMM/YYYY");return t}return this.$moment(t).format("DD/MMM/YYYY")}console.log(t," no end date has been selected")},formatMoney:function(t){return this.currency+t.toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,")},whatPayPeriod:function(t,e){"undefined"===typeof e&&(e=!1);var a={start:"",end:""};if(""!==t)if(this.date_interval>=28){if(a.start=this.formatDate(this.$moment(t).subtract(1,"months")),a.end=this.formatDate(this.$moment(t).subtract(1,"days")),e&&this.$moment(this.today).isSameOrBefore(t)&&this.$moment(this.today).isAfter(a.end)){var s=this.$moment(t).add(1,"months");a.start=this.formatDate(this.$moment(s).subtract(1,"months")),a.end=this.formatDate(this.$moment(s).subtract(1,"days"))}}else if(14==this.date_interval){if(a.start=this.formatDate(this.$moment(t).subtract(this.date_interval+5,"days")),a.end=this.formatDate(this.$moment(t).subtract(this.date_interval-8,"days")),e&&this.$moment(this.today).isSameOrBefore(t)&&this.$moment(this.today).isAfter(a.end)){s=this.$moment(t).add(this.date_interval,"days");a.start=this.formatDate(this.$moment(s).subtract(this.date_interval+5,"days")),a.end=this.formatDate(this.$moment(s).subtract(this.date_interval-8,"days"))}}else if(7==this.date_interval&&(a.start=this.formatDate(this.$moment(t).subtract(this.date_interval,"days")),a.end=this.formatDate(this.$moment(t).subtract(this.date_interval-6,"days")),e&&this.$moment(this.today).isSameOrBefore(t)&&this.$moment(this.today).isAfter(a.end))){s=this.$moment(t).add(this.date_interval,"days");a.start=this.formatDate(this.$moment(s).subtract(this.date_interval,"days")),a.end=this.formatDate(this.$moment(s).subtract(this.date_interval-6,"days"))}return a},calculateSpendings:function(t,e){return t=new Date(t),e=new Date(e),t.getMonth()==e.getMonth()?1==t.getDate()||1==e.getDate()?parseFloat((this.weekly_spendings/7*this.date_interval+this.rent+this.monthly_payments).toFixed(2)):parseFloat((this.weekly_spendings/7*this.date_interval).toFixed(2)):parseFloat((this.weekly_spendings/7*this.date_interval+this.rent+this.monthly_payments).toFixed(2))},getNextPaydates:function(){if(this.$moment(this.today).isSameOrBefore(this.whatPayPeriod(this.date_array[this.date_array.length-1]).end))return this.date_array[this.date_array.length-1];var t=this.$moment(this.today).diff(this.$moment(this.date_array[this.date_array.length-1]),"days"),e="";if(t>this.date_interval)for(var a=0;a<Math.ceil(t/this.date_interval);a++)this.date_interval<28?(e=this.formatDate(this.$moment(this.date_array[this.date_array.length-1]).add(this.date_interval,"days")),this.date_array.push(e)):(e=this.formatDate(this.$moment(this.date_array[this.date_array.length-1]).add(1,"months")),this.date_array.push(e));else this.date_interval<28?(e=this.formatDate(this.$moment(this.date_array[this.date_array.length-1]).add(this.date_interval,"days")),this.date_array.push(e)):(e=this.formatDate(this.$moment(this.date_array[this.date_array.length-1]).add(1,"months")),this.date_array.push(e));return e},markComplete:function(t){if(t>=0)this.$moment(this.tracked_data[t].pay_date).isSameOrBefore(this.next_paydate)?(this.tracked_data[t].complete=!this.tracked_data[t].complete,this.tracked_data[t].complete?this.tracked_data[t].btn_reads="Undo":this.tracked_data[t].btn_reads="Mark complete"):this.$swal.fire({position:"center",text:"Can't mark complete future dates!",confirmButtonText:"Got it!",buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small"});else{var e=this.tracked_data.map(function(t){return t.active}).indexOf(!0);if(this.mark_all.done)for(var a=0;a<e;a++)this.tracked_data[a].complete=!0,this.tracked_data[a].btn_reads="Undo",this.mark_all.done=!1,this.mark_all.text="Undo all";else for(a=0;a<this.tracked_data.length;a++)this.tracked_data[a].complete=!1,this.tracked_data[a].btn_reads="Mark complete",this.mark_all.done=!0,this.mark_all.text="Mark all complete"}this.$forceUpdate()},isActiveRow:function(t,e){return!!this.$moment(t).isSame(e)},nextView:function(t){this.pagination.indexOf(t)%this.pages_per_view==0&&this.pagination.indexOf(t)/this.pages_per_view>0&&(this.pagination.length-this.pagination.indexOf(t)>this.pages_per_view?(this.pagination_start+=this.pages_per_view,this.pagination_end+=this.pages_per_view):(this.pagination_start+=this.pages_per_view,this.pagination_end+=this.page_remainder)),this.single_view.start=t,this.single_view.end+=this.rows_per_view,this.$forceUpdate()},preView:function(t){this.pagination.indexOf(t)%this.pages_per_view==0&&this.pagination.indexOf(t)/this.pages_per_view>0&&(this.pagination.length-this.pagination.indexOf(t)>this.pages_per_view?(this.pagination_start-=this.pages_per_view,this.pagination_end-=this.pages_per_view):(this.pagination_start-=this.pages_per_view,this.pagination_end-=this.page_remainder)),this.single_view.end=t,this.single_view.start-=this.rows_per_view,this.$forceUpdate()},resetView:function(t){if(0==t)this.single_view.start=t,this.single_view.end=this.rows_per_view,this.pagination_start=0,this.pagination_end=5;else if(t==this.tracked_data.length){var e=this.tracked_data.length%this.rows_per_view;this.single_view.start=0!=e?t-e:t-this.rows_per_view,this.single_view.end=t,this.pagination_end=this.pagination.length,this.pagination_start=this.pagination_end-this.page_remainder}this.$forceUpdate()},thisView:function(t){this.single_view.start=t,this.single_view.end=t+this.rows_per_view,this.$forceUpdate()},currentView:function(t){var e=t/10-5;e<0&&(e=0),this.pagination_start=e,this.pagination.length-this.pagination_start>5?this.pagination_end=t/10-1+4:this.pagination_end=t/10-1+this.page_remainder,this.thisView(t)},dataView:function(){return this.searching?this.tracked_data.slice(0,this.tracked_data.length):this.tracked_data.slice(this.single_view.start,this.single_view.end)},startEdit:function(t,e,a){this.editing.id==t&&this.editing.entry_code==e?this.editing.yes=!0:(this.editing.yes=!1,this.editing.entry_code=e,this.editing.id=t),this.cached_value=a},doneEdit:function(t,e){this.editing.entry_code=0,this.editing.id=-1,this.editing.yes=!1,this.tracked_data[t.id]=t;var a=0;switch(4==e&&0==t.note.trim().length&&(this.tracked_data[t.id].note=""),e){case 1:a=parseFloat((this.tracked_data[t.id].income-this.cached_value).toFixed(2));break;case 2:a=parseFloat((this.tracked_data[t.id].actual_savings-this.cached_value).toFixed(2)),this.tracked_data[t.id].spendings=parseFloat((this.tracked_data[t.id].expected_savings-this.tracked_data[t.id].actual_savings).toFixed(2)),this.tracked_data[t.id].spendings<0&&(this.tracked_data[t.id].spendings=0);break;case 3:a=parseFloat((this.tracked_data[t.id].actual_rrsp-this.cached_value).toFixed(2));break}for(var s=t.id+1;s<this.tracked_data.length;s++)1==e?(parseFloat((this.tracked_data[s-1].actual_savings+=a).toFixed(2)),parseFloat((this.tracked_data[s].actual_savings+=a).toFixed(2)),parseFloat((this.tracked_data[s].expected_savings+=a).toFixed(2))):2==e?(parseFloat((this.tracked_data[s].actual_savings+=a).toFixed(2)),parseFloat((this.tracked_data[s].expected_savings+=a).toFixed(2))):3==e&&(parseFloat((this.tracked_data[s].actual_rrsp+=a).toFixed(2)),parseFloat((this.tracked_data[s].expected_rrsp+=a).toFixed(2)));this.state_id++},cancelEdit:function(t,e){if(this.editing.yes)switch(e){case 1:this.tracked_data[t.id].income=this.cached_value;break;case 2:this.tracked_data[t.id].actual_savings=this.cached_value;break;case 3:this.tracked_data[t.id].actual_rrsp=this.cached_value;break;case 4:this.tracked_data[t.id].note=this.cached_value;break}this.editing={entry_code:0,id:-1,yes:!1}},viewNote:function(t){this.$swal.fire({position:"center",text:t.note,confirmButtonText:"Ok",buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small"})},deleteNote:function(t){var e=this;this.$swal.fire({text:"Are you sure you want to delete note?",type:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small mr-3",cancelButtonClass:"btn btn-secondary btn-small",confirmButtonText:"Yes"}).then(function(a){a.value&&(e.tracked_data[t].note="")})},giveDetails:function(t){this.$swal.fire({position:"center",text:t,confirmButtonText:"Got it!",buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small"})},drawChart:function(){for(var t=1;t<this.tracked_data.length;t++)this.tracked_data[t-1].complete&&(this.chartData[t]=[this.tracked_data[t-1].pay_date,{v:this.tracked_data[t-1].expected_savings,f:this.formatMoney(this.tracked_data[t-1].expected_savings)},{v:this.tracked_data[t-1].actual_savings,f:this.formatMoney(this.tracked_data[t-1].actual_savings)}])},filterData:function(t){if(""!==t){var e=0;t=t.toLowerCase();for(var a=0;a<this.tracked_data.length;a++){this.no_results=!1,this.searching=!1,this.tracked_data[a].found=!0;var s=[this.tracked_data[a].note,this.tracked_data[a].pay_date,this.tracked_data[a].pp_start,this.tracked_data[a].pp_end],i=s.join().toLowerCase();i.includes(t)?e++:this.tracked_data[a].found=!1}if(0==e){this.no_results=!0;for(a=0;a<this.tracked_data.length;a++)this.tracked_data[a].found=!0}else this.searching=!0}},removeFilter:function(){this.filter_term="",this.searching=!1,this.no_results=!1;for(var t=0;t<this.tracked_data.length;t++)this.tracked_data[t].found=!0},switchTab:function(t){if(t>0)this.$swal.fire({position:"center",text:"Coming soon!",confirmButtonText:"Ok",buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small"});else{for(var e=0;e<this.tab_isActive.length;e++)this.tab_isActive[e]=!1;this.tab_isActive[t]=!0,this.$forceUpdate()}}}},V=I,U=Object(d["a"])(V,F,A,!1,null,null,null),L=U.exports,W={name:"main-view",components:{Majorinput:P,Tracker:L},data:function(){return{inputDone:!1,user_object:{},tracked_data:[]}},methods:{inputReceived:function(t){t?(this.inputDone=!0,this.user_object=t):this.inputDone=!1},initateEdit:function(){this.inputDone=!1},restart:function(){var t=this;this.$swal.fire({text:"Are you sure you want to restart? All of your tracked data will be deleted",type:"warning",showCancelButton:!0,buttonsStyling:!1,confirmButtonClass:"btn btn-secondary btn-small mr-3",cancelButtonClass:"btn btn-secondary btn-small",confirmButtonText:"Yes"}).then(function(e){e.value&&(t.user_object={},t.inputDone=!1)})},TrackedDataSent:function(t){t&&(this.tracked_data=t)}}},q=W,G=Object(d["a"])(q,h,u,!1,null,null,null),K=G.exports;s["a"].use(_["a"]);var z=new _["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:K},{path:"/about",name:"about",component:function(){return a.e("about").then(a.bind(null,"f820"))}}]}),H=a("2f62");s["a"].use(H["a"]);var J=new H["a"].Store({state:{id:0},mutations:{increment:function(t,e){t.id+=e},reset:function(t){t.id=0},decrement:function(t,e){t.id-=e}},actions:{}}),Z=a("5886"),Q=a("6afc"),X=a("cb43");s["a"].use(a("2ead")),s["a"].use(Z["a"]),s["a"].use(Q["a"]),s["a"].use(X["default"]),s["a"].config.productionTip=!1,new s["a"]({router:z,store:J,render:function(t){return t(l)}}).$mount("#app")},"9a05":function(t,e,a){"use strict";var s=a("b956"),i=a.n(s);i.a},b956:function(t,e,a){}});
//# sourceMappingURL=app.2c5af15b.js.map